<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">


<head th:replace="~{admin-fragments::header}">
    <meta charset="UTF-8">
    <style>
        ul {
            list-style-type: none;
            padding-left: 0;
        }
    </style>
</head>

<body class="sb-nav-fixed">

<nav th:replace="~{admin-fragments::admin-nav}"></nav>
<div id="layoutSidenav">
    <div th:replace="~{admin-fragments::side-nav}"></div>
    <div id="layoutSidenav_content" class="">

        <!-- Main Content -->
        <div class="container-fluid px-4">
            <h1 class="mt-4">Order</h1>

            <!--            <button type="button" class="btn btn-primary mb-1" data-bs-toggle="modal" data-bs-target="#exampleAddCategoryModal"-->
            <!--                    data-whatever="@mdo">Thêm mới-->
            <!--            </button>-->

            <!--            <button type="button" class="btn btn-primary mb-1" data-bs-toggle="modal" data-bs-target="#exampleAddService"-->
            <!--                    data-whatever="@mdo">Thêm dịch vụ-->
            <!--            </button>-->

            <p th:if="${#lists.size(bookings) == 0}">Chưa có don dat nao</p>
            <div th:if="${success}" class="text-center alert alert-success">
                <p th:text="${success}"></p>
            </div>
            <div th:if="${error}" class="text-center alert alert-danger">
                <p th:text="${error}"></p>
            </div>

            <table class="table table-striped table-bordered"
                   th:if="${bookings != null and not #lists.isEmpty(bookings)}">
                <thead class="table-dark">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Ngày Check-in</th>
                    <th scope="col">Ngày Check-out</th>
                    <th scope="col">Tổng Giá (VND)</th>
                    <th scope="col">Đã Thanh Toán (VND)</th>
                    <th scope="col">Khách Hàng</th>
                    <th scope="col">Phòng</th>
                    <th scope="col">Trạng Thái Đặt</th>
                    <th scope="col">Trạng Thái Thanh Toán</th>
<!--                    <th scope="col">Hóa Đơn</th>-->
<!--                    <th scope="col">Đánh Giá</th>-->
                    <th scope="col">Hành động</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="booking : ${bookings}">
                    <td th:text="${booking.bookingId}"></td>
                    <td th:text="${booking.checkInDate}"></td>
                    <td th:text="${booking.checkOutDate}"></td>
                    <td th:text="${#numbers.formatInteger(booking.totalPrice, 0)}"></td>
                    <td th:text="${#numbers.formatInteger(booking.amountHasPaid, 0)}"></td>
                    <td th:text="${booking.user.fullName}"></td>
                    <td th:text="${booking.room.roomName}"></td>
                    <td th:text="${booking.status}"></td>
                    <td th:text="${booking.paymentStatus}"></td>
<!--                    <td>-->
<!--                        <a th:href="@{'/admin/invoice/details/' + ${booking.invoice.id}}">Xem Hóa Đơn</a>-->
<!--                    </td>-->
<!--                    <td>-->
<!--                        <ul>-->
<!--                            <li th:each="review : ${booking.reviews}" th:text="${review.content}"></li>-->
<!--                        </ul>-->
<!--                    </td>-->
                    <td>
                        <a th:href="@{/admin/booking/update/(id = ${booking.bookingId})}" class="btn btn-info btn-sm">
                            Chap nhan
                        </a>
                        <a th:href="@{'/admin/booking/delete/' + ${booking.bookingId}}" class="btn btn-danger btn-sm"
                           onclick="if (!(confirm('Bạn có chắc chắn muốn xóa đặt phòng này?'))) return false">
                            Tu choi
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>

        </div>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
<script src="js/scripts.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
<script src="assets/demo/chart-area-demo.js"></script>
<script src="assets/demo/chart-bar-demo.js"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
<script src="js/datatables-simple-demo.js"></script>

<script>

</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>

</body>
</html>
